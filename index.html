<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Challenge Alura</title>
    <link rel="stylesheet" href="reset.css" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <main>
      <!--Box del encriptador-->
      <div class="encriptador">
        <img class="logo" src="recursos/Logo.png" alt="Logo del Challenge" />
        <form>
          <!--Zona donde escribiremos el mensaje-->
          <textarea
            name="mensaje"
            id="mensaje"
            cols="30"
            rows="10"
            placeholder="ingrese el texto aqui"
          ></textarea>
          <!--Aviso aclarando que solo se puede usar minusculas-->
          <p class="aviso">
            <img src="recursos/Group.png" alt="exclamacion" /> Solo letras
            minusculas y sin acentos
          </p>
          <!--Conjunto de botones-->
          <div class="botones">
            <!--Boton para encriptar-->
            <button
              class="encriptar"
              type="button"
              onclick="encriptarMensaje()"
            >
              Encriptar
            </button>
            <!--Boton para desencriptar-->
            <button
              class="desencriptar"
              type="button"
              onclick="desencriptarMensaje()"
            >
              Desencriptar
            </button>
          </div>
        </form>
      </div>
      <!--Tablon donde se mostraran los mensajes-->
      <div class="tablon">
        <!--Elementos visibles cuando no exista un texto que mostrar-->
        <div id="notext">
          <img src="recursos/Muñeco.png" alt="imagen del Muñeco" />
          <p class="titulo">Ningún mensaje fue encontrado</p>
          <p class="subtitulo">
            ingesa el texto que deseas encriptar o desencriptar
          </p>
        </div>
        <!--Elementos mostrados cuando exista un texto que mostrar-->
        <div id="text">
          <textarea
            name="tablonmensajes"
            id="tablonmensajes"
            cols="30"
            rows="10"
          ></textarea>
          <!--boton para copiar el contenido del text area, del div tablon-->
          <button class="botoncopiar" type="button" onclick="copiarOutput()">
            Copiar
          </button>
        </div>
      </div>
    </main>
    <!--pendiente de estilo-->
    <footer>
      <p>Encriptador de Sebastian Gutiérrez García</p>
    </footer>
  </body>
  <!--script area-->
  <script>
    function encriptarMensaje() {
      var mensaje = document.querySelector("#mensaje").value;
      var mensajeCifrado = mensaje
        .replace(/e/g, "enter")
        .replace(/i/g, "imes")
        .replace(/a/g, "ai")
        .replace(/o/g, "ober")
        .replace(/u/g, "ufat");
      document.querySelector("#tablonmensajes").value = mensajeCifrado;
      visibiliti();
    }

    function desencriptarMensaje() {
      var mensaje = document.querySelector("#mensaje").value;
      var mensajeCifrado = mensaje
        .replace(/enter/g, "e")
        .replace(/imes/g, "i")
        .replace(/ai/g, "a")
        .replace(/ober/g, "o")
        .replace(/ufat/g, "u");
      document.querySelector("#tablonmensajes").value = mensajeCifrado;
      visibiliti();
    }

    function copiarOutput() {
      var copiar = document.querySelector("#tablonmensajes").value;
      navigator.clipboard.writeText(copiar);
      alert("El mensaje encriptado fue copiado");
      document.querySelector("#tablonmensajes").value = null;
      visibiliti();
    }

    function visibiliti() {
      var vis = document.querySelector("#tablonmensajes").value;
      if (vis.length > 0) {
        document.querySelector("#text").style.display = "block";
        document.querySelector("#notext").style.display = "none";
      } else {
        document.querySelector("#text").style.display = "none";
        document.querySelector("#notext").style.display = "block";
      }
    }
  </script>
</html>
